<item name="GATS_BG_S1_Q3" class="VehicleWeapon" invisible="0" category="VehicleWeapon" weaponParams="1" >
<!-- NOTE - THIS IS A PLACEHOLDER IMPLEMENTATION UNTIL THE REAL GATS_BG_S1_Q3 IS READY -->
  <params>
    <param name="giveable" 		value="0" />
    <param name="selectable" 	value="0" />
    <param name="pickable" 		value="0" />
    <param name="mountable" 	value="1" />
    <param name="usable"		 	value="0" />
    <param name="arms"			 	value="0" />
    <!--param name="adb" value="Items/Weapons/Gallenson_Tactical/Mantis_GT_220.adb" />-->
	<param name="adb" value="Items/Weapons/Gallenson_Tactical/GATS_BG_S2_Q3.adb" />
    <param name="actionController" value="Items/Weapons/weaponControllerDef.xml" />
    <param name="itemType" value="WeaponGun" />
    <param name="itemSubType" value="" />
	<param name="itemDescription" value="The Scorpion GT-215 is a hydraulically-driven Gatling-type rotary cannon designed to deliver smaller rounds at a very high rate of fire. The Scorpion is designed to shred armor on very fast targets, sacrificing power for absolute saturation of the target area." />
    <param name="itemManufactor" value="Gallenson Tactical" />
    <param name="itemSize" value="1" />
	<param name="itemTags" value="weaponMountUsable" />
	<param name="requiredPortTags" value="AEGS_Gladius_Base" />
    <param name="display_name"	value="Scorpion GT-215 - NOT DFM READY" />
	<param name="weaponRequireAmmoBox" value="1" />
	<param name="weaponDelayChangeAmmoBox" value="0.25" />
	
	<param name="hitpoints" value="190" />
	<param name="mass" value="1250" />
  </params>

  <Pipes>

    <Pipe class="Power" prioType="manageable" prioGroup="weapon">
      <States>
        <State state="Active,Default">
          <Value value="-3" />
        </State>
        <State state="Shooting">
          <Value value="-10" />
        </State>
        <State state="Off">
            <Value value="0" />
        </State>
      </States>
      <StateLevels>
        <Warning  value = "0.75" />
        <Critical value = "0.5" />
        <Fail     value = "0.3" />
      </StateLevels>
    </Pipe>
	
	<!-- 
	
	prioType = the actual priority of the item. In the Default loadouts it usually goes like this.
	prio# = num	= prioType
	prio0 = 0 	= prioType= critical
	prio1 = 10 	= prioType= aux
	prio2 = 99 	= prioType= manageable
	
	-->

    <Pipe class="Heat" prioType="manageable" prioGroup="weapon">
      <Pool capacity="700" rate="50" critical="1"/> <!-- rate = capped removal rate --> <!-- rate="50" --> <!-- We should remove the "rate" to rely on the cooling capacity of the ship/coolers -->
	  <Signature name="Infrared" poolMultiplier="0.1" />
      <States>
        <State state="Default">
          <Value value="3" />
        </State>
      </States>
      <StateLevels>
        <Warning  value = "0.50" />
        <Critical value = "0.25" />
        <Fail     value = "0.01" />
      </StateLevels>
    </Pipe>

  </Pipes>

  <heatOverflow>
		<param name="damageLevel" value="0.20" /> <!-- If "damageLevel" isn't defined, the default min level before taking damage is 0.5 -->
		<param name="damageMin" value="1" />
		<param name="damageMax" value="3" />
		<param name="damageTick" value="0.25" />
		<param name="cooldownTime" value = "3.0" />
  </heatOverflow>
  
  <damagelevels>
	<level damageRatio="0.25">
		<DebrisList>
			<Debris name="GATS_BG_S2_Q3_Left_base_25_debris1" mass="10" impulse="0,10,0" >
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Left_base_25_debris2" mass="10" impulse="0,10,0" >
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Left_base_25_debris3" mass="10" impulse="0,10,0" >
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Right_base_25_debris1" mass="10" impulse="0,10,0" >
				<EffectsList>
					<Effect effect="damage_fx.uee.static.electric_small" helper="barrel_2_100_debris1_PFX1" />
				</EffectsList>
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Right_base_25_debris2" mass="10" impulse="0,10,0" >
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Right_base_25_debris3" mass="10" impulse="0,10,0" >
			</Debris>
		</DebrisList> 
	</level>
	<level damageRatio="0.50">
				<EffectsList>
					<Effect effect="damage_fx.uee.static.electric_small"  helper="GATS_BG_S2_Q3_Left_base_50_PFX1"/>
				</EffectsList>
		<DebrisList>
			<Debris name="GATS_BG_S2_Q3_Left_base_50_debris1" mass="10" impulse="0,10,0" >
				<EffectsList>
				</EffectsList>
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Left_base_50_debris2" mass="10" impulse="0,10,0" >
				<EffectsList>
					<Effect effect="damage_fx.uee.static.electric_small"  />
				</EffectsList>
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Right_base_50_debris1" mass="10" impulse="0,10,0" >
				<EffectsList>
					<Effect effect="damage_fx.uee.static.electric_small"  />
				</EffectsList>
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Right_base_50_debris2" mass="10" impulse="0,10,0" >
				<EffectsList>
					<Effect effect="damage_fx.uee.static.electric_small"  />
				</EffectsList>
			</Debris>
		</DebrisList> 
	</level>
	<level damageRatio="0.75" disableShooting="1">
				<EffectsList>
					<Effect effect="damage_fx.uee.static.electric_small"  helper="GATS_BG_S2_Q3_Left_barrel_75_PFX6"/>
				</EffectsList>
		<DebrisList>
			<Debris name="GATS_BG_S2_Q3_Left_base_75_debris2" mass="10" impulse="0,10,0" >
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Left_barrel_75_debris1" mass="10" impulse="0,10,0" >
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Left_barrel_75_debris2" mass="10" impulse="0,10,0" >
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Left_barrel_75_debris3" mass="10" impulse="0,10,0" >
				<EffectsList>
					<Effect effect="damage_fx.uee.static.electric_small"  />
				</EffectsList>
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Left_barrel_75_debris4" mass="10" impulse="0,10,0" >
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Left_barrel_75_debris5" mass="10" impulse="0,10,0" >
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Left_barrel_75_debris6" mass="10" impulse="0,10,0" >
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Left_barrel_75_debris7" mass="10" impulse="0,10,0" >
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Right_base_75_debris2" mass="10" impulse="0,10,0" >
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Right_barrel_75_debris1" mass="10" impulse="0,10,0" >

			</Debris>
			<Debris name="GATS_BG_S2_Q3_Right_barrel_75_debris2" mass="10" impulse="0,10,0" >

			</Debris>
			<Debris name="GATS_BG_S2_Q3_Right_barrel_75_debris3" mass="10" impulse="0,10,0" >
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Right_barrel_75_debris4" mass="10" impulse="0,10,0" >
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Right_barrel_75_debris5" mass="10" impulse="0,10,0" >
				<EffectsList>
					<Effect effect="damage_fx.uee.static.debris_fire_small"  />
				</EffectsList>
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Right_barrel_75_debris6" mass="10" impulse="0,10,0" >
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Right_barrel_75_debris7" mass="10" impulse="0,10,0" >
			</Debris>
		</DebrisList> 
	</level>
	<level damageRatio="1.00">
		<DebrisList>
			<!-- Don't detach the base of the Gun! -->
			<!--<Debris name="GATS_BG_S2_Q3_Left_base_100" mass="10" impulse="0,10,0" >
				<EffectsList>
					<Effect effect="damage_fx.uee.static.debris_fire_small"  helper="GATS_BG_S2_Q3_Left_base_100_PFX1"/>
					<Effect effect="damage_fx.uee.static.electric_small"  helper="GATS_BG_S2_Q3_Left_base_100_PFX3"/>
				</EffectsList>
			</Debris>-->
			<Debris name="GATS_BG_S2_Q3_Left_base_100_debris1" mass="10" impulse="0,10,0" >
				<EffectsList>
					<Effect effect="damage_fx.uee.static.electric_small"  />
				</EffectsList>
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Left_base_100_debris2" mass="10" impulse="0,10,0" >
				<EffectsList>
				</EffectsList>
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Left_barrel_100_debris1" mass="10" impulse="0,10,0" >
				<EffectsList>
				</EffectsList>
			</Debris>
			<!-- Don't detach the base of the Gun! -->
			<!--<Debris name="GATS_BG_S2_Q3_Right_base_100" mass="10" impulse="0,10,0" >
				<EffectsList>
					<Effect effect="damage_fx.uee.static.debris_fire_small"  />
				</EffectsList>
			</Debris>-->
			<Debris name="GATS_BG_S2_Q3_Right_base_100_debris1" mass="10" impulse="0,10,0" >
				<EffectsList>
				</EffectsList>
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Right_base_100_debris2" mass="10" impulse="0,10,0" >
				<EffectsList>
				</EffectsList>
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Right_base_100_debris3" mass="10" impulse="0,10,0" >
				<EffectsList>
				</EffectsList>
			</Debris>
			<Debris name="GATS_BG_S2_Q3_Right_barrel_100_debris1" mass="10" impulse="0,10,0" >
				<EffectsList>
					<Effect effect="damage_fx.uee.static.electric_small"  />
				</EffectsList>
			</Debris>
		</DebrisList>
	</level>
  </damagelevels>
  
	<firemodes>
		<firemode name="Weapon" type="Rapid">
			<fire>
				<!-- damage is in the Ammo file instead since other ammos will be equipped -->
				<param name="rate" value="600" />
				<param name="clip_size" value="0" />
				<param name="max_clips" value="0" />
				<param name="nearmiss_signal" value="OnNearMiss" />
				<param name="secondary_damage" value="0" />
				<param name="ai_vs_player_damage" value="2" />
				<param name="fireLocatorType" value = "default" />
				<param name="helper_fp" value="muzzle_out_override" />
				<param name="helper_tp" value="muzzle_out_override" />
			</fire>
			
			<rapid>
				<param name="anim_max_speed" value="1.0" />
				<param name="min_rate" value="300" />
				<param name="min_speed" value="1" />
				<param name="max_speed" value="6.0" />
				<param name="acceleration" value="2" />
				<param name="deceleration" value="-2" />
				<param name="barrel_attachment" value="Mantis_GT_220_barrel" />
			</rapid>
			
			<tracer>
				<firstperson frequency="1" helper="muzzle_out_override" /> 
				<thirdperson frequency="1" helper="muzzle_out_override" />
			</tracer>
			
			<spread>
				<param name="min" value="0" />
				<param name="max" value="3" />
				<param name="attack" value=".3" />
				<param name="decay" value="0.45" />
			</spread>

			<muzzleflash>
			<!-- Muzzle Flash only needs to be applied on the first muzzle. Barrels will handle moving the muzzle flash over -->
				<firstperson effect="weapon_fx.ballistic.firefx" helper="muzzle_out_override"/>
				<thirdperson effect="weapon_fx.ballistic.firefx" helper="muzzle_out_override"/>
			</muzzleflash>
			
			<reject>
				<firstperson effect="spaceship_fx.MantisGatling.shell_eject" helper="shell_ejector" />
				<thirdperson effect="spaceship_fx.MantisGatling.shell_eject" helper="shell_ejector" />
			</reject>
			<pools>
				<pool class="Heat" value="8" /> 
				<!-- This adds heat per shot instead of relying on the fixed fire rate. 
				The fixed fire rate is actually the max firerate that the gun shoots, so having it build heat when the gun is firing slow is a bad idea -->
			</pools>
		</firemode>
	</firemodes>
  
  <damagelevels>
	<level min_health="0.2" max_health="0.6" scale="1" helper="shell_ejector" effect="explosions_fx.Debug_Effect" />
	<level min_health="0"   max_health="0.2" scale="2" helper="shell_ejector" effect="explosions_fx.Debug_Effect" />
  </damagelevels>
    
  <geometry>
    <!-- example for more fine grade tags, most of them mapping to the same geometry atm -->
    <!-- default fallback -->
    <thirdperson name="Objects/Spaceships/Weapons/Gallenson_Tactical/GATS_BG_S1_Q3/scorpion_gt_215_gatlin.cga"/>	 
	
	<tags tag="Hologram">
	
		<thirdperson name="Objects/Spaceships/Weapons/Gallenson_Tactical/GATS_BG_S1_Q3/scorpion_gt_215_gatlin.cga" material="materials/item_selection/material_hologram_default.mtl"/>

		<tags tag="ShipHologram">
			<thirdperson name="Objects/Spaceships/Weapons/Gallenson_Tactical/GATS_BG_S1_Q3/scorpion_gt_215_gatlin.cga" material="materials/item_selection/material_hologram_default.mtl"/>
		  
			<tags tag="inactive">
				<thirdperson name="Objects/Spaceships/Weapons/Gallenson_Tactical/GATS_BG_S1_Q3/scorpion_gt_215_gatlin.cga" material="materials/item_selection/material_hologram_default.mtl"/>
			</tags>
			<tags tag="over dragging">
				<thirdperson name="Objects/Spaceships/Weapons/Gallenson_Tactical/GATS_BG_S1_Q3/scorpion_gt_215_gatlin.cga" material="materials/item_selection/material_hologram_default.mtl"/>
			</tags>
			<tags tag="overCompareValid">
				<thirdperson name="Objects/Spaceships/Weapons/Gallenson_Tactical/GATS_BG_S1_Q3/scorpion_gt_215_gatlin.cga" material="materials/item_selection/material_hologram_default.mtl"/>
			</tags>
			<tags tag="overCompareInvalid">
				<thirdperson name="Objects/Spaceships/Weapons/Gallenson_Tactical/GATS_BG_S1_Q3/scorpion_gt_215_gatlin.cga" material="materials/item_selection/material_hologram_default.mtl"/>
			</tags>
		</tags>
		
		<tags tag="ItemList">
			<thirdperson name="Objects/Spaceships/Weapons/Gallenson_Tactical/GATS_BG_S1_Q3/scorpion_gt_215_gatlin.cga" material="materials/item_selection/material_hologram_default.mtl"/>
			<tags tag="over dragging">
				<thirdperson name="Objects/Spaceships/Weapons/Gallenson_Tactical/GATS_BG_S1_Q3/scorpion_gt_215_gatlin.cga" material="materials/item_selection/material_hologram_default.mtl"/>
			</tags>
		</tags>	
		
		<tags tag="ItemPreviewA">
		  <thirdperson name="Objects/Spaceships/Weapons/Gallenson_Tactical/GATS_BG_S1_Q3/scorpion_gt_215_gatlin.cga" material="materials/item_selection/material_hologram_default.mtl"/>
		</tags>
		
		<tags tag="ItemPreviewB">
		  <thirdperson name="Objects/Spaceships/Weapons/Gallenson_Tactical/GATS_BG_S1_Q3/scorpion_gt_215_gatlin.cga" material="materials/item_selection/material_hologram_default.mtl"/>
		</tags>	
		
	</tags>

	
	<tags tag="HUD">
		<thirdperson name="Objects\UI\Weapons\Gallenson_Tactical\Mantis_GT_220\Mantis_GT_220_Right_UI.cga" material="materials/item_selection/material_hologram_default.mtl"/>
		<tags tag="damage_50">
			<thirdperson name="Objects\UI\Weapons\Gallenson_Tactical\Mantis_GT_220\Mantis_GT_220_Right_UI.cga" material="Materials\item_selection\material_hologram_mid_damaged.mtl"/>
		</tags>
		<tags tag="damage_100">
			<thirdperson name="Objects\UI\Weapons\Gallenson_Tactical\Mantis_GT_220\Mantis_GT_220_Right_UI.cga" material="Materials\item_selection\material_hologram_damaged.mtl"/>
		</tags>	
	</tags>

	 
    <!-- In this sub-block of geometry, we can define attachment points in some of our character bones -->
    <!-- These attachments can be referenced within this very same script to attach accessories, particle fx... -->
	<boneAttachments>
      <attachment target="thirdperson" name="muzzle1" bone="muzzle_out_01" />
      <attachment target="thirdperson" name="muzzle2" bone="muzzle_out_02" />
      <attachment target="thirdperson" name="muzzle3" bone="muzzle_out_03" />
      <attachment target="thirdperson" name="muzzle_out_override" bone="muzzle_out_override" />
	  <attachment target="thirdperson" name="shell_ejector" bone="shell_ejector" />
    </boneAttachments>
  </geometry>

 	<portParams>
	<ports>
		<ItemPort name="ammo_box_01" minsize="1" maxsize="1" flags="right" display_name="Ammo Box #1">
			<Types>
				<Type type="AmmoBox" subtypes="20mm"/>
			</Types>
			<GeomTags>
			  <geom name="objects/default/primitive_sphere.cgf" material="materials/item_selection/material_hologram_unselected.mtl" />
			  <Tags tag="over dragging">
				<geom name="objects/default/primitive_sphere.cgf" material="materials/item_selection/material_hologram_selected.mtl" />
			  </Tags>
			  <Tags tag="overCompareValid">
				<geom name="objects/default/primitive_sphere.cgf" material="materials/item_selection/material_hologram_overvalid.mtl" />
			  </Tags>
			  <Tags tag="overCompareInvalid">
				<geom name="objects/default/primitive_sphere.cgf" material="materials/item_selection/material_hologram_overinvalid.mtl" />
			  </Tags>
			</GeomTags>
		</ItemPort>
		<ItemPort name="ammo_box_02" minsize="1" maxsize="1" flags="left" display_name="Ammo Box #2">
			<Types>
				<Type type="AmmoBox" subtypes="20mm"/>
			</Types>
			<GeomTags>
			  <geom name="objects/default/primitive_sphere.cgf" material="materials/item_selection/material_hologram_unselected.mtl" />
			  <Tags tag="over dragging">
				<geom name="objects/default/primitive_sphere.cgf" material="materials/item_selection/material_hologram_selected.mtl" />
			  </Tags>
			  <Tags tag="overCompareValid">
				<geom name="objects/default/primitive_sphere.cgf" material="materials/item_selection/material_hologram_overvalid.mtl" />
			  </Tags>
			  <Tags tag="overCompareInvalid">
				<geom name="objects/default/primitive_sphere.cgf" material="materials/item_selection/material_hologram_overinvalid.mtl" />
			  </Tags>
			</GeomTags>
		</ItemPort>
	</ports>
  </portParams>
  
	<mobiGlas>
		<mobiGlasARDataAttachment arType="ItemPort" arAttachPoint ="0, 0, 0" arLongRange="12" arShortRange="6" arMinRange="1" arMaterial="materials/item_selection/HoloTable_empty_port_dodecahedron_prop_uee_darkblue.mtl" />
	</mobiGlas>

  <defaultLoadout>
    <Items>
      <Item portName="ammo_box_01" itemName="AmmoBox_Ballistic_20mm" />
      <Item portName="ammo_box_02" itemName="AmmoBox_Ballistic_20mm" />
    </Items>
  </defaultLoadout>
  
</item>
