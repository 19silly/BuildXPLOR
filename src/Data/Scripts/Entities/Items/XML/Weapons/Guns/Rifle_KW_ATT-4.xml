<item name="Rifle_KW_ATT-4" class="Weapon" category="medium" priority="12" weaponParams="1">
	<params>
		<param name="display_name" value="ATT-4" />
		<!-- Change Me Later -->
		<param name="giveable" value="1" />
		<param name="pickable" value="1" />
		<param name="usable" value="1" />
		<param name="selectable" value="1" />
		<param name="mountable" 	value="0" />
		<param name="pose" value="stocked" />
		<param name="twoHanded" value="1" />
		<!-- Defined in Mannequin?? -->
		<param name="itemClass" value="stocked" />
		<!-- Defined in Mannequin?? -->
		<param name="slidePose" value="stocked" />
		<!-- Defined in Mannequin?? -->
		<param name="suffix" value="shoulder" />
		<!-- Defined in Mannequin?? -->
		<param name="mass" value="3" />
		<!-- This is in kg -->
		<param name="melee_attack_firemode" value="melee" />
		<param name="select_delayed_grab_3P" value="1" />

		<param name="usesBattery" value="1" />

		<!-- For Item Port Types -->
		<param name="itemType" value="WeaponPersonal" />
		<param name="itemSubType" value="Medium" />
		<param name="itemSize" value="1" />
		<param name="itemManufactor" value="" />

		<!-- SP WEAPON STATS -->
		<param name="sprintToFireDelay" value="0.1" GAME="SP" />
		<param name="sprintToZoomDelay" value="0.3" GAME="SP" />
		<param name="autoReloadDelay" value="0.5" GAME="SP" />
		<param name="autoReloadDelay" value="0.5" GAME="MP" />
		<param name="runToSprintBlendTime" value="0.3" />
		<param name="sprintToRunBlendTime" value="0.4" GAME="SP" />
		<param name="sprintToRunBlendTime" value="0.2" GAME="MP" />
		<param name="sprintToFireDelay" value="0.05" GAME="MP" />
		<param name="sprintToZoomDelay" value="0.2" GAME="MP" />
		<param name="select_override" value="0.8" GAME="MP" />
		<param name="stat_accuracy" value="6" GAME="SP" />
		<param name="stat_rate_of_fire" value="7" GAME="SP" />
		<param name="stat_mobility" value="5" GAME="SP" />
		<param name="stat_damage" value="4" GAME="SP" />
		<param name="stat_range" value="5" GAME="SP" />
		<!-- MP WEAPON STATS -->
		<param name="stat_accuracy" value="7" GAME="MP" />
		<param name="stat_rate_of_fire" value="7" GAME="MP" />
		<param name="stat_mobility" value="5" GAME="MP" />
		<param name="stat_damage" value="5" GAME="MP" />
		<param name="stat_range" value="5" GAME="MP" />
		<param name="stat_recoil" value="5" GAME="MP" />
		<!-- /STATS -->

		<param name="tag" value="Rifle_KW_ATT-4" />
		<param name="adb" value="Items/Weapons/FPS/Rifle_KW_ATT-4.adb" />
		
		<param name="tags" value="587,818"/>
		<param name="price" value="1500"/>
		<param name="itemImage" value="UI/mobiGlas/assets/PNG/CubbyBlast_items/Rifle_KW_ATT-4.tif" />
	</params>

	<FPSDebug>
		<param name="alerted_position" value="-0.1,0.15,-0.13" />
		<param name="ironsight_position" value="-0.2,0.001,-0.087" />
	</FPSDebug>

	<MovementModifiers speedScale="1.0" rotationScale="1.0" GAME="SP">
		<!-- speed/rotation scale = ratio of character's speed is changed by -->
		<Ironsight speedScale="0.6" rotationScale="0.33" mouseRotationScale="0.9" />
	</MovementModifiers>

	<MovementModifiers speedScale="1.0" rotationScale="1.0" firingSpeedScale="1.0" GAME="MP">
		<!-- speed/rotation scale = ratio of character's speed is changed by -->
		<Ironsight speedScale="0.6" rotationScale="0.33" mouseRotationScale="0.9" />
	</MovementModifiers>

	<ReloadMagazineParams magazineAttachment="magazine" magazineEvent="magazine" />
	<ai_descriptor handler="instant" draw_time="2" burstBulletCountMin="5" burstBulletCountMax="9" burstPauseTimeMin="0.4" burstPauseTimeMax="0.9" singleFireTriggerTime="-1" pressureMultiplier="1" coverFireTime="3.0" />

	<ammos>
		<ammo name="PC-FF" extra="150" amount="50" capacity="250" />
	</ammos>

	<geometry>
		<firstperson name="Objects/Weapons/KW_ATT-4/KW_ATT-4.cdf"/>
		<thirdperson name="Objects/Weapons/KW_ATT-4/KW_ATT-4.cdf"/>
	</geometry>

	<firemodes>
		<firemode type="default">
			<!-- Some common fire params: ammo type, fire rate, damage of the ammo -->
			<fire>
				<param name="hit_type" value="PC-FF" />
				<param name="ammo_type" value="PC-FF" />
				<param name="rate" value="410" />
				<param name="auto_fire" value="1" />
				<param name="ammoDamageMultiplier" value="2.5" />
				<param name="bullet_chamber" value="1" />
				<param name="shots_until_battery_needs_recharge" value="120" />
				<param name="lowAmmoWarningFraction" value="0.26"/>
				<param name="helper_fp" value="muzzle_flash" />
				<param name="helper_tp" value="muzzle_flash" />
				<param name="nearmiss_signal" value="OnNearMiss" />
				<param name="reload_time" value="4" />
				<param name="fillAmmoReloadFraction" value="0.60" />
				<param name="endReloadFraction" value="0.90" />
				<param name="knocks_target" value="0"/>
				<param name="min_damage_for_knockDown" value="0"/>
				<param name="min_damage_for_knockDown_leg" value="10"/>
				<param name="holdbreath_ffeedback_damp" value="1.0" />
				<param name="holdbreath_fire_anim_damp" value="1.0" />
				<param name="ironsight_fire_anim_damp" value="1.0" />
				<param name="sound_radius" value="50.0" />
			</fire>
			<proceduralrecoil>
				<param name="duration" value="0.4" />
				<param name="strength" value="0.06" />
				<param name="kickIn" value="0.3" />
				<param name="dampStrength" value="7.5f" />
				<param name="fireRecoilTime" value="0.05f" />
				<param name="fireRecoilStrengthFirst" value="3.0f" />
				<param name="fireRecoilStrength" value="0.5f" />
				<param name="angleRecoilStrength" value="0.4f" />
				<param name="randomness" value="0.1f" />
			</proceduralrecoil>
      
			<!-- Some params to tweak the recoil of the weapon. (See CSingle::UpdateRecoil() to see how it works!! -->
      <recoil>
        <!-- Maximum recoil for the weapon in any direction - Higher value is less recoil   1.2 -->
        <param name="max_recoil" value="1.2" />

        <!-- Attack value for the first bullet fired -->
        <param name="first_attack" value="0.15" />

        <!-- Amount of recoil per shot (must be less than max) -->
        <param name="attack" value="0.15" />

        <!-- Speed at which your gun returns to its normal position after firing.-->
        <param name="decay" value="2.0" />

        <!-- Decay value for the last bullet fired  0.5 -->
        <param name="end_decay" value="2.0" />

        <!-- Max recoil on the X (Sideway) axis -->
        <param name="maxx" value="12" />

        <!-- Max recoil on the Y (Up) axis 30 -->
        <param name="maxy" value="16" />

        <param name="randomness" value="0.1" />

        <param name="angular_impulse" value="1" />

        <param name="back_impulse" value="1" />

        <param name="recoil_holdBreathActive_m" value="1" />

        <param name="recoil_crouch_m" value="1" />

        <param name="recoil_jump_m" value="1"/>

        <!-- These modifiers are applied to the amount of decay reduction per frame, increasing the decay per frame reduces recoil -->
        <hints>
          <hint x="0.04"	y="1.15" />
          <hint x="0.0"	y="1.15" />
          <hint x="0.02"	y="1.15" />
          <hint x="0.00"	y="1.15" />
          <hint x="-0.07"	y="1.15" />
          <hint x="-0.07"	y="1.15" />
          <hint x="-0.09"	y="1.10" />
          <hint x="0.04" 	y="1.12" />
          <hint x="0.012" 	y="1.8" />
          <hint x="-0.05"	y="1.5" />
          <hint x="-0.14"	y="1.2" />
          <hint x="-0.05"	y="1.7" />
          <hint x="0.03" 	y="1.6" />
          <hint x="-0.08"	y="1.5" />
          <hint x="0.03" 	y="1.5" />
          <hint x="0.04" 	y="0.7" />
          <hint x="0.08" 	y="0.7" />
          <hint x="0.08" 	y="0.9" />
          <hint x="0.05" 	y="1.0" />
          <hint x="-0.02"	y="0.5" />
          <hint x="-0.03"	y="0.3" />
          <hint x="-0.08"	y="0.5" />
          <hint x="0.05" 	y="0.4" />
          <hint x="-0.02"	y="0.1" />
          <hint x="0.03"	y="0.4" />
          <hint x="0.05"	y="0.3" />
        </hints>
      </recoil>
			<!-- If you don't want your gun to be ping-pong accurate, and make head-shots a bit harder, this will add some spread on top of your shots -->
			<spread>
				<param name="min" value="0.0" />
				<param name="max" value="0.0" />
				<param name="attack" value="0.0" />
				<param name="decay" value="0.0" />
				<param name="end_decay" value="0.0" />
				<param name="speed_m" value="0.0" />
				<!-- this multiplies the current velocity then adds it to the attack (or min?)- can go above the max spread -->
				<param name="rotation_m" value="0.0" />
				<param name="spread_jump_m" value="1.0" />
				<param name="spread_slide_m" value="1.0" />
				<param name="spread_crouch_m" value="0.8" />
				<param name="speed_holdBreathActive_m" value="1.0" />
				<param name="spread_holdBreathActive_m" value="1.0" />
			</spread>
			<!-- We can also add some muzzleflashes and light FX when firing... -->
			<muzzleflash>
				<firstperson effect="Illfonic_Weapons_Rifle_KW_ATT-4.1st_MuzzleFlash" helper="muzzle_flash" light_helper="muzzle_light" lightArchetype="Illfonic_Weapon_Lights.Weapons.LaserRifle_Muzzleflash" time="0.02" />
				<thirdperson effect="Illfonic_Weapons_Rifle_KW_ATT-4.3rd_MuzzleFlash" helper="muzzle_flash" light_helper="muzzle_light" lightArchetype="Illfonic_Weapon_Lights.Weapons.LaserRifle_Muzzleflash_3rd" time="0.02" />
			</muzzleflash>
			<!-- or even reject some shells when firing. Take a look at the use of the attachments/helpers that we defined before -->
			<reject>
				<firstperson effect="Illfonic_Weapons.Behring_P4SC.1st_ShellEject" helper="shells" GAME="SP" />
				<firstperson effect="Illfonic_Weapons.Behring_P4SC.1st_ShellEject" helper="shells" GAME="MP" />
				<thirdperson effect="Illfonic_Weapons.Behring_P4SC.1st_ShellEject" helper="shells" GAME="SP" />
			</reject>
			<animation>
				<param name="useBaseModifier" value="1" />
			</animation>
			<tracer>
				<firstperson frequency="1" helper="muzzle_flash"/>
				<thirdperson frequency="1" helper="muzzle_flash"/>
			</tracer>
		</firemode>

		<firemode name="Rapid" type="Rapid">
			<tracer>
				<param name="geometryFP" value="Objects/VFX/Tracers/tracer_behringp4sc.cgf" />
				<param name="geometry" value="Objects/VFX/Tracers/tracer_behringp4sc.cgf" />
				<param name="effectFP" value="weapon_fx.scar.tracer.tracer_fp" />
				<param name="effect" value="weapon_fx.scar.tracer.tracer_tp" />
				<param name="speed" value="600" GAME="MP"/>
				<param name="speed" value="300" GAME="SP"/>
				<param name="speedFP" value="600" GAME="MP"/>
				<param name="speedFP" value="500" GAME="SP"/>
				<param name="frequency" value="3" />
				<param name="helper_fp" value="muzzle_flash" />
				<param name="helper_tp" value="muzzle_flash" />
				<param name="thickness" value="1.3" GAME="MP" />
				<param name="thicknessFP" value="0.4" GAME="MP" />
				<param name="thickness" value="1.0" GAME="SP" />
				<param name="thicknessFP" value="0.2" GAME="SP" />
			</tracer>
			<perkModifiers>
				<param name="maximumFocusRecoil_recoilScale" value="1.085"/>
				<param name="gunslinger_spreadScale" value="0.45"/>
			</perkModifiers>
			<outofammotracer>
				<param name="geometryFP" value="Objects/effects/tracer_standard_new.cgf" />
				<param name="geometry" value="Objects/effects/tracer_standard_new.cgf" />
				<param name="effectFP" value="weapon_fx.scar.tracer.tracer_fp" />
				<param name="effect" value="weapon_fx.scar.tracer.tracer_tp" />
				<param name="speed" value="600" GAME="MP"/>
				<param name="speed" value="500" GAME="SP"/>
				<param name="speedFP" value="600" GAME="MP"/>
				<param name="speedFP" value="500" GAME="SP"/>
				<param name="frequency" value="1" />
				<param name="helper_fp" value="muzzle_flash" />
				<param name="helper_tp" value="muzzle_flash" />
				<param name="thickness" value="1.3" GAME="MP" />
				<param name="thicknessFP" value="0.4" GAME="MP" />
				<param name="thickness" value="1.0" GAME="SP" />
				<param name="thicknessFP" value="0.2" GAME="SP" />
			</outofammotracer>
			<fire>
				<param name="hit_type" value="PC-FF" />
				<param name="reticle" value="AssaultRifle" />
				<param name="ooatracer_treshold" value="8" />
				<param name="changeFMFireDelayFraction" value="1.0" GAME="MP"/>
				<param name="tag" value="rapid"/>
			</fire>
			<rapid>
				<param name="min_speed" value="0.001" />
				<param name="max_speed" value="0.001" />
				<param name="acceleration" value="2.35" />
				<param name="deceleration" value="-3.0" />
				<param name="min_firingTimeToStop" value="0" />
			</rapid>
			<recoil>
				<param name="angular_impulse" value="1" />
				<param name="back_impulse" value="1" />
			</recoil>
			<muzzlesmoke>
				<firstperson effect="" helper="muzzle_flash" />
				<thirdperson effect="" helper="muzzle_flash" />
			</muzzlesmoke>
			<animation>
				<param name="useBaseModifier" value="1" />
			</animation>
		</firemode>

	

		<firemode name="melee" type="Melee">
			<melee>
				<param name="helper" value="collision" />
				<param name="offset" value="0.35" />
				<param name="damage" value="1" GAME="SP"/>
				<param name="damage" value="1" GAME="MP"/>
				<param name="slide_damage" value="3" GAME="SP"/>
				<param name="slide_damage" value="1.3" GAME="MP"/>
				<param name="damage_AI" value="3" />
				<param name="impulse" value="100"/>
				<param name="impulse_actor" value="300" />
				<param name="impulse_AI_to_Player" value="600"/>
				<param name="impulse_vehicle" value="400"/>
				<param name="impulse_up_percentage" value="0.4" GAME="SP"/>
				<param name="range" value="1.8" />
				<param name="delay" value="0.1" GAME="SP"/>
				<param name="delay" value="0.01" GAME="MP"/>
				<param name="aiDelay" value="0.45" />
				<param name="duration" value="0.3" GAME="SP"/>
				<param name="duration" value="0.7" GAME="MP"/>
				<param name="use_melee_weapon_delay" value="0.0" />
				<PowerAttack>
					<param name="duration" value="0.6" GAME="SP"/>
					<param name="duration" value="0.7" GAME="MP"/>
				</PowerAttack>
				<CloseAttack>
					<param name="delay" value="0.25" />
					<param name="duration" value="0.87" />
					<param name="range" value="1.5" />
					<param name="impulse_AI_to_Player" value="300"/>
				</CloseAttack>
				<param name="knockdown_chance" value="20" />
    <param name="sound_radius" value="2.0" />
			</melee>
		</firemode>

	</firemodes>

	<zoommodes>
		<zoommode name="ironsight" type="IronSight">
			<stereo>
				<param name="eyeDistance" value="0.002" />
				<param name="convergenceDistance" value="0.01" />
			</stereo>
			<zoom>
				<param name="suffix" value="iron" />
				<param name="suffixAG" value="_iron" />
				<param name="dof" value="1" />
				<param name="dof_mask" value="textures/weapons/ironzoom_blurmask.dds" />
				<param name="dof_focusMin" value="50.0" />
				<param name="dof_focusMax" value="300.0" />
				<param name="dof_focusLimit" value="300.0" />
				<param name="dof_shoulderMinZ" value="0.15" />
				<param name="dof_shoulderMinZScale" value="4.0" />
				<param name="dof_minZ" value="0.12" />
				<param name="dof_minZScale" value="3.0" />
				<param name="zoom_smooth_time" value=".15" />
				<param name="zoom_in_time" value="0.25" />
				<param name="zoom_out_time" value="0.15" />
        <param name="zoom_out_delay" value="0.15" />
        <param name="zoom_fov_offset" value="0.15" />
				<param name="recoil_view_dampen" value="0.0"/>
				<param name="scope_mode" value="1" />
				<param name="scope_nearFov" value="38" />
				<param name="armor_bonus_zoom" value="0" />
				<param name="muzzle_flash_scale" value="1.0"/>
				<param name="shoulderMovementAnimFactor" value="0.8" />
				<param name="ironsightMovementAnimFactor" value="0.7" />
				<stages>
					<stage value="2.4" />
				</stages>
			</zoom>
			<spreadMod>
				<param name="max_mod" value="0.0" />
				<param name="first_attack_mod" value="0.0" />
				<param name="attack_mod" value="0.0" />
				<param name="decay_mod" value="0.0" />
				<param name="end_decay_mod" value="0.0" />
				<param name="speed_m_mod" value="0.0" />
				<param name="min_mod" value="0.0" />
				<param name="rotation_m_mod" value="0.0" />
				<param name="spread_crouch_m_mod" value="1.0" />
				<param name="spread_jump_m_mod" value="1.0" />
				<param name="spread_slide_m_mod" value="1.0"/>
				<param name="spread_holdBreathActive_m_mod" value="1.0" />
				<param name="speed_holdBreathActive_m_mod" value="1.0" />
			</spreadMod>
			<recoilMod>
				<param name="max_recoil_mod" value="1.25" />
				<param name="first_attack_mod" value="1" />
				<param name="attack_mod" value="1" />
				<param name="decay_mod" value="1.0" />
				<param name="end_decay_mod" value="1" />
				<param name="impulse_mod" value="1.0" />
				<param name="maxx_mod" value="1.25" />
				<param name="maxy_mod" value="1.25" />
				<param name="randomness_mod" 	value="1.0" />
				<param name="angular_impulse_mod" value="1.0" />
				<param name="back_impulse_mod" value="1.0" />
				<param name="recoil_crouch_m_mod" value="1.0" />
				<param name="recoil_prone_m_mod" value="1.0" />
				<param name="recoil_jump_m_mod" value="1.0" />
				<param name="recoil_holdBreathActive_m_mod" value="1.0" />
			</recoilMod>
		</zoommode>
	</zoommodes>

  <sway>
    <!-- The translation is based off the ratio of the scale to maxScale, when you hit the max scale you hit the translation max. So, choose maxX/maxY carefully for one thing. -->
    <param name="maxTranslateRightHandX" value="0.0" />
    <param name="maxTranslateRightHandY" value="0.0" />

    <param name="maxTranslateLeftHandX" value="0.02" />
    <param name="maxTranslateLeftHandY" value="0.03" />

    <!-- This is the scale when player is standing and doing nothing. You don't need to even have this here, defaults to 1, it's just a sample for stance overrides. -->
    <param name="scale" value="1.0" />

    <!-- This is to prevent the breath swaying from getting too large, depends on the coolDownRate. 
		 The larger the max scale the longer it'll take for the player to cool down.-->
    <param name="maxScale" value="4" />

    <!-- Increases the sway scale by this per second until the scale reaches maxScale -->
    <param name="increaseRate" value="0.1" />
    <!-- Decreases the sway scale by this per second until the scale reaches the baseScale -->
    <param name="decreaseRate" value="0.25" />

    <!-- speed is the amount of time for a full sway cycle. -->
    <param name="speedScale" value="0.25" />
    <param name="maxSpeedScale" value="1" />

    <!-- This is the maximum amount of time the player can hold their breath after stabilizing the gun before
		 they need to gasp for air. -->
    <param name="stabilizeScaleEndTime" value="4.0" />
    <param name="stabilizeRecoverTime" value="2.0" />

    <!-- Value from 0 to 1. 0 is 0% jitter using 100% of bowditch curve. 1 is 100% jitter with no bowditch curve. 
        .5 is 50% jitter and 50% bowditch curve. 
        The reason for this is because the curves aren't layered, they're merged together. -->
    <param name="rightHandCurveJitterRatioX" value="0.35" />
    <param name="rightHandCurveJitterRatioY" value="0.35" />
    <param name="leftHandCurveJitterRatioX" value="0.35" />
    <param name="leftHandCurveJitterRatioY" value="0.35" />


    <overrides>
      <!-- Params override base, or you can have them compound. Example:
				<override name="stabalizeAfter">
					<param name="increaseRate" value="2.0" />         // This one overrides, notice there's no `type` attribute.
					<param name="scale"        value="4" type="mult"/>// This one multiplies, notice the `mult` `type` attribute.
				</override>

				param `type` can be one of { mult, add }, or nonexistant to override default value.
			 -->
      <override name="ADS">
        <param name="scale" value=".25" />

        <param name="maxTranslateRightHandX" value="0.0" />
        <param name="maxTranslateRightHandY" value="0.0" />

        <param name="maxTranslateLeftHandX" value="0.025" />
        <param name="maxTranslateLeftHandY" value="0.025" />

        <param name="speedScale" value="0.5" />

      </override>

      <override name="crouch">
        <param name="scale" value="0.8" />
      </override>

      <override name="jump">
        <param name="scale" value="12" />
      </override>

      <override name="prone">
        <param name="scale" value="0.5" />
      </override>

      <override name="run">
        <param name="scale" value="1.25" />
      </override>

      <override name="slide">
        <param name="scale" value="12" />
      </override>

      <override name="sprint">
        <param name="scale" value="1.5" />
      </override>

      <override name="stabalize">
        <param name="scale" value=".05"/>
        <param name="decreaseRate" value="2.5" type="mult"/>
        <param name="speedScale" value=".25" />
        <param name="maxSpeedScale" value=".25" />
      </override>

      <override name="stabalizeAfter">
        <param name="increaseRate" value="2.0" />
        <param name="scale" value="4"/>
      </override>

      <override name="walk">
        <param name="scale" value="1" />

        <param name="maxTranslateRightHandX" value="0.0" />
        <param name="maxTranslateRightHandY" value="0.00" />

        <param name="maxTranslateLeftHandX" value="0.1" />
        <param name="maxTranslateLeftHandY" value="0.06" />

        <param name="speedScale" value="1" />

      </override>

      <override name="weaponfire">
        <param name="scale" value="1.0" />
      </override>

      <override name="zerog">
        <param name="scale" value="1" />
      </override>
    </overrides>

    <!-- * Scales are multiplied together depending on the player state, so you won't necessarily see the exact value in this XML. 
		   For instance holding your breath and zooming your weapon: baseValue * stanceScale * zoomScale * stabalizeScale * firingScale * movementScale -->
  </sway>
	
	<mobiGlas>
		<mobiGlasARDataAttachment arType="Info" arEntity="ARItemLabel" arAttachPoint ="0, 0.4, 0.3" arLongRange="12" arShortRange="6" arMinRange="1"/>
		<mobiGlasARLabel arMovementType="FacingPlayer" arColor ="128, 128, 255" arShortDescription=""/>
	</mobiGlas>
	
</item>
