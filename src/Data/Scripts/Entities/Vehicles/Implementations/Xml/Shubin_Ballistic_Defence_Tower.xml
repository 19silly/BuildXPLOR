<Vehicle name="Shubin_Ballistic_Defence_Tower">
	<Physics pushable="0" dampingFreefall="0">
		<Buoyancy waterDensity="150" waterResistance="2500"/>
		<Simulation maxTimeStep="0.02" minEnergy="0.16" maxLoggedCollisions="2" />
	</Physics>
	<Damages submergedRatioMax="0.4" submergedDamageMult="2" collDamageThreshold="10" groundCollisionMinMult="0.01" groundCollisionMaxMult="2" groundCollisionMinSpeed="4" groundCollisionMaxSpeed="60">
		<DamageMultipliers>
			<DamageMultiplier damageType="bullet" multiplier="1" multiplier_energy="1" multiplier_distortion="0.01" id="idDamageMultiplierBullet"/>
			<DamageMultiplier damageType="melee" multiplier="0" id="idDamageMultiplierMelee"/>
			<DamageMultiplier damageType="collision" multiplier="1" id="idDamageMultiplierCollision"/>
			<DamageMultiplier damageType="explosion" multiplier="1" splash="0.25" id="idDamageMultiplierExplosion"/>
		</DamageMultipliers>
		<DamagesGroups>
			<DamagesGroup name="GlobalHitReactions" global="1" >
				<DamagesSubGroups>
					<DamagesSubGroup delay="0" randomness="0">
						<DamageBehaviors>
							<!-- Camera Shake -->
							<DamageBehavior class="CameraShake" >
								<ShakeTable>
									<Shake hitType="default" minDamage="1" maxDamage="20" minAngleMagnitude="5,5,5" maxAngleMagnitude="30,30,30" minShiftMagnitude="1" maxShiftMagnitude="2" frequency="4" cooldown="0.2" duration="0.15" />
									<Shake hitType="default" minDamage="21" maxDamage="100" minAngleMagnitude="5,5,5" maxAngleMagnitude="30,30,30" minShiftMagnitude="2" maxShiftMagnitude="4" frequency="4" cooldown="0.2" duration="0.15" />
									<Shake hitType="default" minDamage="101" maxDamage="1000" minAngleMagnitude="5,5,5" maxAngleMagnitude="30,30,30" minShiftMagnitude="4" maxShiftMagnitude="7" frequency="4" cooldown="0.2" duration="0.15" />
								</ShakeTable>
							</DamageBehavior>
							
							<!-- cockpit fx --> <!--  v_  -->
						   <DamageBehavior class="Effect" > 
								<Effects spawnLimit="8" maxActive="16" coolDown="1" minWeight="3" maxWeight="60" >
									<!-- Left overhead-->
									<Effect effect="cockpit_fx.uee.cont.low.smoke" 			helper="hardpoint_shin_ext_bal_turret_base"	 weight="1" lifetime="4" 	coolDown="30" />  
									<Effect effect="cockpit_fx.uee.low.sparks"				helper="hardpoint_shin_ext_bal_turret_base"	 weight="1" lifetime="4" 	coolDown="30" /> 
									<Effect effect="cockpit_fx.uee.low.everything" 			helper="hardpoint_shin_ext_bal_turret_base"	 weight="1" lifetime="4" 	coolDown="30" /> 
									<Effect effect="cockpit_fx.uee.low.electricity" 		helper="hardpoint_shin_ext_bal_turret_base"	 weight="1" lifetime="4" 	coolDown="30" /> 
		
									<Effect effect="cockpit_fx.uee.high.smoke" 				helper="hardpoint_shin_ext_bal_turret_base"	 weight="2" lifetime="4" 	coolDown="30" /> 
									<Effect effect="cockpit_fx.uee.high.sparks" 			helper="hardpoint_shin_ext_bal_turret_base"	 weight="2" lifetime="4" 	coolDown="30" /> 
									<Effect effect="cockpit_fx.uee.high.everything" 		helper="hardpoint_shin_ext_bal_turret_base"	 weight="2" lifetime="4" 	coolDown="30" /> 
									<Effect effect="cockpit_fx.uee.high.electricity" 		helper="hardpoint_shin_ext_bal_turret_base"	 weight="2" lifetime="4" 	coolDown="30" /> 
								</Effects>
						   </DamageBehavior>
						   
							<DamageBehavior class="AudioFeedback" damageRatioMin="0.1" damageRatioMax="0.95">
								<Sound sound="Sounds/spaceships:anvl_hornet/damage:hull_damage" cooldown="1" />
							</DamageBehavior>
						</DamageBehaviors>
					</DamagesSubGroup>
				</DamagesSubGroups>
			</DamagesGroup>
			<DamagesGroup name="Destroy">
				<DamagesSubGroups>
					<!-- SubGroup to Destroy Vehicle -->
					<DamagesSubGroup delay="0" randomness="0">
						<DamageBehaviors>
							<DamageBehavior class="Destroy" />
							<DamageBehavior class="Effect" >
								<Effect effect="VehicleDestroyed" />
							</DamageBehavior>
							<DamageBehavior class="Explosion">
								<Explosion helper="impulsePos" damage="500" radius="15" minRadius="5" minPhysRadius="2.2" physRadius="3" pressure="1000"/>
							</DamageBehavior>
							<!--<DamageBehavior class="AudioFeedback" damageRatioMin="0.96">-->
								<!--<Sound sound="Sounds/spaceships:anvl_hornet/damage:ship_destroyed_explosion" cooldown="1" />-->
							<!--</DamageBehavior>-->
						</DamageBehaviors>
					</DamagesSubGroup>
					
					<!-- SubGroup to kill Passengers -->
					<DamagesSubGroup delay="0" randomness="0">
						<DamageBehaviors>
							<DamageBehavior class="HitPassenger">
								<HitPassenger damage="100" isDamagePercent="1"/>
							</DamageBehavior>
						</DamageBehaviors>
					</DamagesSubGroup>
					
					<!-- SubGroup to apply burning - might remove this -->
					<DamagesSubGroup delay="3" randomness="0.25">
						<DamageBehaviors>
							<DamageBehavior class="Burn">
								<Burn helper="impulsePos" damage="5" selfDamage="10" radius="2" interval="0.5"/>
							</DamageBehavior>
						</DamageBehaviors>
					</DamagesSubGroup>
				</DamagesSubGroups>
			</DamagesGroup>
		</DamagesGroups>
	</Damages>
	<Parts>
		<Part name="SHUBIN_Defence_Tower" class="Animated" damageMax="200" mass="1600" disablePhysics="0" scopeContext="Ship" id="idTurretBase">
			<Animated filename="Objects\SQ42\env\mfg\human\shin\archon\assets\ext\wpn_sytm\shin_ext_bal_turret\SHUBIN_Defence_Tower.cga" filenameDestroyed="Objects\SQ42\env\mfg\human\shin\archon\assets\ext\wpn_sytm\shin_ext_bal_turret\SHUBIN_Defence_Tower_Damaged.cga" id="idShipGeometry"/>			
			<Parts>
				<Part name="Body" class="AnimatedJoint" disableCollision="0" id="idBody">
					<DamageBehaviors>
						<DamageBehavior class="DetachPart" damageRatioMin="1">
							<DetachPart>
								<Part name="hardpoint_shin_ext_bal_turret_base"  Probability="1"/>
							</DetachPart>
						</DamageBehavior>
						<DamageBehavior class="Group" damageRatioMin="1">
							<Group name="Destroy"/>
						</DamageBehavior>
					</DamageBehaviors>
					<Effects>
						<HitFx effect="damage_fx.uee.nose.med.dmg_75" joint="hardpoint_shin_ext_bal_turret_base" sound="Sounds/breathing:placeholder:death" minDamageRatio="0.25" maxDamageRatio="0.49" />
						<HitFx effect="damage_fx.uee.nose.med.dmg_75" joint="hardpoint_shin_ext_bal_turret_base" sound="Sounds/spaceships:anvl_hornet/damage:nose_damaged_050" minDamageRatio="0.50" maxDamageRatio="0.74" />
						<HitFx effect="damage_fx.uee.nose.med.dmg_75" joint="hardpoint_shin_ext_bal_turret_base" sound="Sounds/spaceships:anvl_hornet/damage:nose_damaged_075" minDamageRatio="0.75" maxDamageRatio="0.95" />
						<HitFx effect="damage_fx.uee.nose.med.dmg_75" joint="hardpoint_shin_ext_bal_turret_base" sound="Sounds/spaceships:anvl_hornet/damage:nose_damaged_100" minDamageRatio="1.00" maxDamageRatio="1.00" />
					</Effects>
					<Parts>
						<Part name="hardpoint_shin_ext_bal_turret_base" class="ItemPort">
							<ItemPort minsize="1" maxsize="5" flags="center" display_name="Normal Turret Slot" displayPos="275,260" displayTop="1" >
								<Types>
									<Type type="Turret"/>
								</Types>
								<Pitch min ="-5" max ="65" />
								<Yaw min ="-180" max ="180" />
							</ItemPort>
						</Part>
						<Part name="hardpoint_power_plant_attach" class="ItemPort">
							<ItemPort minsize="1" maxsize="5" flags="invisible" display_name="Power Plant" displayPos="75,290">
								<Types>
									<Type type="PowerPlant" subtypes="Power_ANVL_Hornet" id="idPowerType"/>
								</Types>
							</ItemPort>
						</Part>

						<Part name="hardpoint_radiator_attach" class="ItemPort">
							<ItemPort minsize="1" maxsize="1" flags="invisible" display_name="Cooler">
								<Types>
									<Type type="Cooler" subtypes="Cooler_ANVL_Hornet"/>
								</Types>
							</ItemPort>
						</Part>
						
						<Part name ="hardpoint_avonics_motherboard" class = "ItemPort">
							<ItemPort minsize="1" maxsize="1" flags="invisible" display_name="Avionics Motherboard">
								<Types>
									<Type type="Avionics" subtypes="Motherboard"/>
								</Types>
							</ItemPort>
						</Part>
			
						<Part name ="hardpoint_avonics_motherboard" class = "ItemPort">
							<ItemPort minsize="1" maxsize="1" flags="invisible" display_name="Avionics Motherboard">
								<Types>
									<Type type="Avionics" subtypes="Motherboard"/>
								</Types>
							</ItemPort>
						</Part>
			
						<Part name="hardpoint_radar" class="ItemPort">
							<ItemPort minsize="1" maxsize="1" flags="invisible"   display_name="Short Range Radar">
								<Types>
									<Type type="Radar" subtypes="ShortRangeRadar,MidRangeRadar"/>
								</Types>
							</ItemPort>
						</Part>
					</Parts>
				</Part>
			</Parts>
		</Part>
	</Parts>
	<Seats>
		<!-- Pilot's seat ("SeatDriver" is the standard name that Star Citizen uses for the this position) -->
		<Seat name="SeatDriver" enterHelper="gunner_enter_pos" sitHelper="gunner_sit_pos" updatePassengerTM ="0" useBoundsForEntering="1" isDriver="1" canLook ="1" lookMin="-30,0,-50" lookMax ="50,0,50" isPassengerShielded="1" AimPart="" seatGroupIndex="1" actionMap="spaceship" visorType="targeting">
			<!-- Begin views for this seat-->
			<Views defaultFirstPerson="0" defaultThirdPerson="3">
				<View class="Cockpit" hidePlayer ="0" canRotate="1" rotationMin="-30,0,-50" rotationMax="50,0,50" motionBlur="0">
					<Cockpit offset ="0,0,0" relativeToHorizon ="0.9"/>
				</View>
			</Views>
				
			<!-- Begin actions for this seat-->
			<SeatActions>
				<!-- Weapons used / controlled by pilot of Confed Hornet -->
				<SeatAction class="SharedWeapons">
					<SharedWeapons>
						<Settings>
							<Items>
								<ItemPort part="hardpoint_shin_ext_bal_turret_base"	priority="0" active="1" actorRecoil="0" defaultGroup="0" />
							</Items>
						</Settings>
					</SharedWeapons>
				</SeatAction>
				
				<!-- Seat actions for items, atm they only call StartUse/StopUse on the items -->
				<SeatAction class="SharedItems">
					<SharedItems isAvailableDocked="1">
						<Settings>
							<Items>
								<ItemPort part="hardpoint_power_plant_attach" />	
								<ItemPort part="hardpoint_radiator_attach" />
								<ItemPort part="hardpoint_avonics_motherboard" />
								<ItemPort part="hardpoint_radar" />
							</Items>
						</Settings>
					</SharedItems>
				</SeatAction>
			</SeatActions>
			<Sounds inout="0" mood="1"/>
		</Seat>
	</Seats>
	<MovementParams>
		<Spaceship engineWarmupDelay="1" engineIgnitionTime ="0" enginePowerMax="2.75" rotationDamping="26" maxCruiseSpeed="60" maxBoostSpeed="100" maxEngineThrust="150" maxRetroThrust="120" maxDirectionalThrust="100" maxAngularVelocity="90,120,80" maxAngularAcceleration="120,100,120">
			<SoundParams>
			<!-- SOUNDS NEED TO BE DONE - REPLACE ME	-->
				<AmbientSound sound="Sounds/spaceships_orig_m50:parts:ambient_interior" />
				<PassByLoopSound sound="Sounds/spaceships:oj_m50/pass_by:pass_by_loop" />
				<PassBySound sound="Sounds/spaceships:oj_m50/pass_by:pass_by_800ms_0to100meters" leadinTime="0.6" maxDistance="100" cooldownTime="2" />
				<DuressSound sound="Sounds/spaceships:oj_m50/under_duress:under_duress" damage_floor="21.0" damage_buffer="80.0" />
			</SoundParams>
		</Spaceship>
	</MovementParams>
	<Particles mfxRow="vfx_Anvil_Hornet">
		<!--
		<Exhaust insideWater="0" outsideWater="1">
			<Helpers>
				<Helper value="main_engine_exhaust"/>
			</Helpers>
			<EngineStart effect="spaceship_fx.Hornet.main_thruster_exhaust"/>
			<EngineStop effect="spaceship_fx.Hornet.main_thruster_exhaust"/>
			<EngineRunning effect="spaceship_fx.Hornet.main_thruster_exhaust" boostEffect="spaceship_fx.Hornet.main_thruster_exhaust" baseSizeScale="1" minSpeed="0.1" minSpeedSizeScale="1" minSpeedCountScale="1" minSpeedSpeedScale="1" maxSpeed="100" maxSpeedSizeScale="1" maxSpeedCountScale="1" maxSpeedSpeedScale="1" minPower="0.1" minPowerSizeScale="1" minPowerCountScale="0" minPowerSpeedScale="1" maxPower="1" maxPowerSizeScale="1" maxPowerCountScale="2" maxPowerSpeedScale="2"/>
		</Exhaust>
		-->
		<DamageEffects>
			<DamageEffect name="VehicleDestroyed" helper="" effect="explosions_fx.Death_Explosion.Explosion" scaleMax="1" gravityDirection="0,0,1" pulsePeriod="0"/>
			<!-- 
			<DamageEffect name="HullDamaged25" helper="burningPos" effect="spaceship_fx.Hornet.hull_smoke_a" scaleMax="1" gravityDirection="0,0,1" pulsePeriod="0"/>
			<DamageEffect name="HullDamaged75" helper="burningPos" effect="spaceship_fx.Hornet.hull_smoke_b" scaleMax="1" gravityDirection="0,0,1" pulsePeriod="0"/>
			 -->
		</DamageEffects>
		<EnvironmentLayers>
			<EnvironmentLayer minSpeed="0" minSpeedSizeScale="1" minSpeedCountScale="1" minSpeedSpeedScale="1" maxSpeed="10" maxSpeedSizeScale="1" maxSpeedCountScale="1" maxSpeedSpeedScale="1" minPowerSizeScale="1" minPowerCountScale="1" maxPowerSizeScale="1" maxPowerCountScale="1">
				<Alignment alignGroundHeight="25" maxHeightSizeScale="0.5" maxHeightCountScale="0.60000002" alignToWater="0" />
				<Emitters />
				<Wheels />
			</EnvironmentLayer>
		</EnvironmentLayers>
	</Particles>
	<Modifications>	
		<Modification name="CutlassPlaceholder"> 
			<Elems>
				<Elem idRef="idTurretBase" name="damageMax" value="10"/>
				<Elem idRef="idTurretBase" name="name" value="shin_ext_cutlass_placeholder"/>				
				<Elem idRef="idShipGeometry" name="filename" value="Objects\SQ42\env\mfg\human\shin\archon\assets\ext\wpn_sytm\shin_ext_bal_turret\shin_ext_cutlass_placeholder.cga"/>
				<Elem idRef="idShipGeometry" name="filenameDestroyed" value="Objects\SQ42\env\mfg\human\shin\archon\assets\ext\wpn_sytm\shin_ext_bal_turret\shin_ext_cutlass_placeholder_damaged.cga"/>
				<Elem idRef="idShipGeometry" name="material" value="Objects\SQ42\env\mfg\human\shin\archon\assets\ext\wpn_sytm\shin_ext_bal_turret\Cutlass_Placeholder.mtl"/>
				<Elem idRef="idPowerType" name="subtypes" value="Power_Shubin_Turret"/>
			</Elems>
		</Modification>
	</Modifications>	
</Vehicle>
